<module rename-to="hummingbird.client">
	<!-- This GWT module defines the Vaadin client side engine. -->

	<inherits name="com.google.gwt.user.User" />
	<inherits name="com.google.gwt.http.HTTP" />
	<inherits name="elemental.Json" />     <!-- Elemental is used for handling Json only -->
	<inherits name="com.google.gwt.logging.Logging" />
	<set-property name="gwt.logging.enabled" value="TRUE" />

	<source path="client" />
	<source path="shared" />

	<!-- Use own Scheduler implementation to be able to track if commands are 
		running -->
	<replace-with class="com.vaadin.client.VSchedulerImpl">
		<when-type-is class="com.google.gwt.core.client.impl.SchedulerImpl" />
	</replace-with>

	<replace-with
		class="com.vaadin.client.communication.AtmospherePushConnection">
		<when-type-is class="com.vaadin.client.communication.PushConnection" />
	</replace-with>

	<!-- Set vaadin.profiler to true to include profiling support in the module -->
	<define-property name="vaadin.profiler" values="true,false" />
	<set-property name="vaadin.profiler" value="false" />

	<replace-with class="com.vaadin.client.Profiler.EnabledProfiler">
		<when-type-is class="com.vaadin.client.Profiler" />
		<when-property-is name="vaadin.profiler" value="true" />
	</replace-with>

	<!-- Use the new cross site linker to get a nocache.js without document.write -->

	<set-property name="user.agent" value="ie10,gecko1_8,safari" />

	<inherits name="com.google.gwt.precompress.Precompress" />

	<entry-point class="com.vaadin.client.ApplicationConfiguration" />

	<replace-with class="com.vaadin.client.communication.DefaultReconnectDialog">
		<when-type-is class="com.vaadin.client.communication.ReconnectDialog" />
	</replace-with>

	<collapse-all-properties />

	<!-- Custom linker for emitting only one, uniquely named and cachable artifact -->
	<define-linker name="hum" class="com.vaadin.gwt.ClientEngineLinker" />
	<add-linker name="hum" />
</module>
